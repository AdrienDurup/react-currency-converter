"use strict";(self.webpackChunkreact_modele=self.webpackChunkreact_modele||[]).push([[179],{6265:(e,t,r)=>{var n=r(3935),o=(r(5666),r(1539),r(8674),r(9720),r(1249),r(2222),r(9826),r(6977),r(4603),r(4916),r(9714),r(7327),r(9070),r(8304),r(489),r(2419),r(8011),r(9753),r(2526),r(1817),r(2165),r(6992),r(8783),r(3948),r(7042),r(8309),r(1038),r(7294)),c=r(5697),u=r.n(c);const i=[{currencyName:"Australian Dollar",id:"AUS"},{currencyName:"Bulgarian Lev",id:"BUL"},{currencyName:"Brazilian Real",id:"BRA"},{currencyName:"Canadian Dollar",id:"CAN"},{currencyName:"Swiss Franc",id:"SWI"},{currencyName:"Chinese Renminbi Yuan",id:"PRC"},{currencyName:"Czech Koruna",id:"CZE"},{currencyName:"Danish Krone",id:"DAN"},{currencyName:"British Pound",id:"UNK"},{currencyName:"Hong Kong Dollar",id:"HON"},{currencyName:"Croatian Kuna",id:"CRO"},{currencyName:"Hungarian Forint",id:"HUN"},{currencyName:"Indonesian Rupiah",id:"IRU"},{currencyName:"Israeli New Sheqel",id:"INS"},{currencyName:"Indian Rupee",id:"INR"},{currencyName:"Icelandic Kr√≥na",id:"ICE"},{currencyName:"Japanese Yen",id:"YEN"},{currencyName:"United States Dollar",id:"USD"}];r(7941),r(5003),r(9554),r(4747),r(9337),r(3321);var a=r(5893);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return y(this,r)}}function y(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(c,e);var t,r,n,o=p(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).props=e;var r=e.setResult;return t.setResult=r,t}return t=c,(r=[{key:"render",value:function(){var e=this.props,t=e.currencyName,r=e.id,n=e.isActive;return(0,a.jsx)("li",{className:n?"currency-list__item --is-active-item":"currency-list__item",onClick:this.setResult,"data-currency-id":r,children:t+" "})}}])&&l(t.prototype,r),n&&l(t,n),c}(o.Component);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=N(e);if(t){var o=N(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return R(this,r)}}function R(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}d.propTypes={currencyName:u().string.isRequired,id:u().string.isRequired};var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(u,e);var t,r,n,c=w(u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),c.call(this,e)}return t=u,(r=[{key:"componentDidMount",value:function(){console.log("list mounted")}},{key:"componentDidUpdate",value:function(){console.log("list updated")}},{key:"render",value:function(){var e=this.props,t=e.setResult,r=e.setFilter,n=e.currencies,c=e.itemToHighlight,u=e.filter;e.storedCurrencyId,console.log("should highlight",c);var i=Object.keys(n);return(0,a.jsxs)("ul",{className:"list-container",children:[(0,a.jsx)("li",{className:"currency-list__item has-filter",children:(0,a.jsx)("input",{className:"currency-list__filter",type:"text",placeholder:"Currency filter",onChange:r,value:u})}),i.map((function(e){var r=n[e];return(0,o.createElement)(d,b(b({},r),{},{key:r.id,setResult:t,isActive:r.id===c}))}))]})}}])&&O(t.prototype,r),n&&O(t,n),u}(o.Component);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e,t){return P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},P(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=k(e);if(t){var o=k(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return E(this,r)}}function E(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(c,e);var t,r,n,o=I(c);function c(){return x(this,c),o.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this.props.data,t=e.computed,r=e.currencyName;return console.log(t,r),(0,a.jsxs)("div",{className:"result-box",children:[(0,a.jsx)("div",{className:"result__rate",children:t}),(0,a.jsx)("div",{className:"result__name",children:r})]})}}])&&C(t.prototype,r),n&&C(t,n),c}(o.Component);function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,c=[],u=!0,i=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(c.push(n.value),!t||c.length!==t);u=!0);}catch(e){i=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(i)throw o}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B(e,t,r,n,o,c,u){try{var i=e[c](u),a=i.value}catch(e){return void r(e)}i.done?t(a):Promise.resolve(a).then(n,o)}function q(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var c=e.apply(t,r);function u(e){B(c,n,o,u,i,"next",e)}function i(e){B(c,n,o,u,i,"throw",e)}u(void 0)}))}}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K(e,t){return K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},K(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=z(e);if(t){var o=z(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return M(this,r)}}function M(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Y(e)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},z(e)}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(c,e);var t,r,n,o=H(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),L(Y(t=o.call(this,e)),"getCurrenciesFromAPI",q(regeneratorRuntime.mark((function e(){var r,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("call to API"),e.next=4,fetch("".concat(t.host,"/api/v7/currencies?apiKey=fca40546187d511c5280"));case 4:return r=e.sent,e.next=7,r.json();case 7:return n=e.sent,o=n.results,c=(c=Object.entries(o)).map((function(e){var t=T(e,2);return{id:t[0],currencyName:t[1].currencyName}})),e.abrupt("return",c);case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",i);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))),L(Y(t),"getConversion",function(){var e=q(regeneratorRuntime.mark((function e(r,n){var o,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("call to API"),e.next=4,fetch("".concat(t.host,"/api/v7/convert?q=").concat(r,"_").concat(n,"&compact=ultra&apiKey=fca40546187d511c5280"));case 4:return o=e.sent,e.next=7,o.json();case 7:return c=e.sent,u=c["".concat(r,"_").concat(n)],e.abrupt("return",u);case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Math.random()+1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}()),L(Y(t),"init",q(regeneratorRuntime.mark((function e(){var r,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getConversion("EUR","USD");case 2:return r=e.sent,n=1,e.next=6,t.getCurrenciesFromAPI();case 6:o=e.sent,c={currenciesArray:o,filteredCurrencies:o,amount:n,currencyName:o.find((function(e){return"USD"===e.id})).currencyName,rate:r,computed:t.compute(n,r)},t.setState((function(){return c}));case 9:case"end":return e.stop()}}),e)})))),L(Y(t),"setResult",function(){var e=q(regeneratorRuntime.mark((function e(r){var n,o,c,u,i,a,s,l,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.target.closest("li"),o=n.dataset.currencyId,c=t.state,u=c.amount,i=c.currencyInputId,a=c.currenciesArray,s=a.find((function(e){return e.id===o})),l=s.currencyName,e.next=6,t.getConversion(i,o);case 6:f=e.sent,p=t.compute(f,u),t.setState((function(){return{rate:f,computed:p,currencyName:l,currencyId:o}})),localStorage.setItem("selectedCurrency",o);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L(Y(t),"setAmount",(function(e){var r=e.target.value,n=t.state.rate,o=t.compute(n,r);t.setState((function(){return{amount:r,computed:o}}))})),L(Y(t),"compute",(function(e,t){return(e*t).toFixed(3)})),L(Y(t),"setFilter",(function(e){var r=e.target.value;console.log("filter",r);var n=t.filterCurrencies(r);t.setState((function(){return{filteredCurrencies:n}}))})),L(Y(t),"filterCurrencies",(function(e){var r=t.state.currenciesArray,n=new RegExp(".*".concat(e,".*"),"i");console.log(n);var o=r.filter((function(e){return n.test(e.currencyName)}));return console.log(o),o})),t.host="https://free.currconv.com",t.state={currenciesArray:[],filteredCurrencies:[],amount:1,currencyInputName:"Euro",currencyInputId:"EUR",currencyName:"United States Dollar",currencyId:"USD",rate:0,computed:0},t.init(),t}return t=c,(r=[{key:"componentDidMount",value:function(){console.log("list mounted");var e=this.state.currencyName;document.title="Converter ".concat(e),console.log(localStorage.getItem("selectedCurrency")),this.setState({currencyId:localStorage.getItem("selectedCurrency")})}},{key:"componentDidUpdate",value:function(){console.log("list updated");var e=this.state.currencyName;document.title="Converter ".concat(e)}},{key:"render",value:function(){var e=this.state,t=e.filteredCurrencies,r=e.amount,n=e.currencyInputName,o=e.currencyName,c=e.computed,u=e.currencyId;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("form",{className:"converter",children:[(0,a.jsxs)("div",{className:"converter__header",children:[(0,a.jsx)("h1",{className:"converter__title",children:"Currency Converter"}),(0,a.jsx)("input",{className:"converter__input converter__amount",id:"amountInput",type:"number",defaultValue:r,min:"0",onChange:this.setAmount}),(0,a.jsx)("input",{className:"converter__input",type:"text",id:"currencyInput",defaultValue:n})]}),(0,a.jsx)(_,{currencies:t,setResult:this.setResult,setFilter:this.setFilter,itemToHighlight:u}),(0,a.jsx)(A,{data:{currencyName:o,computed:c}})]})})}}])&&F(t.prototype,r),n&&F(t,n),c}(o.Component);V.propTypes=u().shape({amount:u().number.isRequired,currencyInputName:u().string.isRequired,currencyInputId:u().string.isRequired,currencyName:u().string.isRequired,currencyId:u().string.isRequired,rate:u().number.isRequired,computed:u().number.isRequired}).isRequired;const J=function(){return(0,a.jsx)("div",{className:"app",children:(0,a.jsx)(V,{})})};var W=(0,a.jsx)(J,{}),Z=document.getElementById("root");(0,n.render)(W,Z)},9193:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[922],(()=>(t(9193),t(6265))));e.O()}]);